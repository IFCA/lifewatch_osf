{#
 # This file is part of Lifewatch DAAP.
 # Copyright (C) 2015 Ana Yaiza Rodriguez Marrero.
 #
 # Lifewatch DAAP is free software; you can redistribute it and/or modify
 # it under the terms of the GNU General Public License as published by
 # the Free Software Foundation, either version 3 of the License, or
 # (at your option) any later version.
 #
 # Lifewatch DAAP is distributed in the hope that it will be useful,
 # but WITHOUT ANY WARRANTY; without even the implied warranty of
 # MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
 # GNU General Public License for more details.
 #
 # You should have received a copy of the GNU General Public License
 # along with Lifewatch DAAP. If not, see <http://www.gnu.org/licenses/>.
 #}

{#
## This file is part of Invenio.
## Copyright (C) 2013, 2014, 2015 CERN.
##
## Invenio is free software; you can redistribute it and/or
## modify it under the terms of the GNU General Public License as
## published by the Free Software Foundation; either version 2 of the
## License, or (at your option) any later version.
##
## Invenio is distributed in the hope that it will be useful, but
## WITHOUT ANY WARRANTY; without even the implied warranty of
## MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
## General Public License for more details.
##
## You should have received a copy of the GNU General Public License
## along with Invenio; if not, write to the Free Software Foundation, Inc.,
## 59 Temple Place, Suite 330, Boston, MA 02111-1307, USA.
#}

{%- from "_formhelpers.html" import render_field with context %}
{%- import "helpers_base.html" as hb -%}

{% macro form_action_bar(margin="") -%}
{% block form_action_bar scoped %}
{% include "deposit/run_action_bar.html" %}
{% endblock %}
{%- endmacro %}

{%- macro form_group_accordion_start(group, idx) -%}
{% include "deposit/run_group_start.html" %}
{%- endmacro -%}

{%- macro form_group_accordion_end(group, idx) -%}
{% include "deposit/run_group_end.html" %}
{%- endmacro -%}

{%- macro field_label(thisfield) -%}
{% include "deposit/run_field_label.html" %}
{%- endmacro -%}

{%- macro field_display(thisfield, field_size=None, field_class="form-control", container_class="form-group") -%}
{%- set field_size = field_size if field_size else (form.field_sizes.get(thisfield.name) if form.field_sizes else none) -%}
{%- set field_kwargs = kwargs -%}
{% include "deposit/run_field.html" %}
{%- endmacro -%}

{%- macro field_display_subform(thisfield) -%}
{% include "deposit/run_field_subform.html" %}
{%- endmacro -%}

<form method="POST" role="form">
  <div class="panel panel-default panel-sharp">
    {% call hb.cpanel_head(1) %}
    <i class="fa fa-info-circle fa-fw"></i> Instrument
    {% endcall %}
    {% call hb.cpanel_body(1, collapsed=False) %}

    <p>
     Name:
      {{ form.name(size=80)}}

      {{ field_display(form.access_right) }}

      {{ field_display(form.embargo_date) }}

      {{ field_display(form.license) }}

      {{ field_display(form.access_conditions) }}

      {{ field_display(form.access_groups) }}
    </p>

    {% endcall %}
  </div>

  <div class="spacer20"></div>
    <div class="btn-toolbar">
      <button type="submit" class="btn btn-primary   pull-right">
        <i class="fa fa-check"></i> {{_('Save')}}
      </button>
    </div>
</form>